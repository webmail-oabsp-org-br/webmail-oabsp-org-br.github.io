var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(c.call(b,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
var exchangeRedirect={nanoBar:null,interval:null,init:function(){var a=document.getElementsByName("logonForm")[0];if(0===$(a).find('input[name="permission"]').val())a.submit();else{var c=document.getElementsByName("skyboxLogonForm")[0];if("skybox"===$(a).find('input[name="logonin"]').val())c.submit();else{this.nanoBar=new Nanobar({classname:"progresstop",id:"progresstopid"});var b=2;this.nanoBar.go(2);this.interval=setInterval($.proxy(function(){b+=2;100<=b&&(b=100);this.nanoBar.go(b);100===b&&(clearTimeout(this.interval),
a.submit())},this),40);document.onkeyup=$.proxy(function(a){"Escape"===a.key&&this.cancel()},this)}}},cancel:function(){clearTimeout(this.interval);document.getElementsByClassName("waitauth")[0].innerHTML=$(".waitauth").data("cancelLabel");var a=$(this.nanoBar.el);a.find(".bar").css("height",0);$("#skyboxForm").attr("target",null);setTimeout(function(){a.remove()},300)}};
$(document).ready(function(){window.rcmail&&($(".formbuttons .cancel").click(function(){location.href="/"}),$("body").hasClass("password_change")?document.title=rcmail.gettext("password_change_pagetitle","skymail_login"):rcmail.addEventListener("init",function(){var a=$("<div id='skymailcontainer' />").insertAfter('form[name="form"] table');a.append($('<span class="remember_me" />').html('<input type="checkbox" name="_skymail_rememberme" id="_skymail_rememberme" value="1"><label for="_skymail_rememberme">'+
rcmail.gettext("skymail_rememberme","skymail_login")+"</label>"));$.cookie("domain_autocompl_webmail")?$('<label for="rcmloginuser" id="skymaildomaincomplete">@'+$.getCurrentDomain()+"</label>").insertAfter("#rcmloginuser"):$("#rcmloginuser").attr("type","email");if($.cookie("forgot_password_feature")){var c=$('<a href="#" style="font-size: .8em">'+rcmail.gettext("forgot_password","skymail_login")+"?</a>").on("click",function(){var a="?task=login&action=plugin.forgotpassword",b=$("#rcmloginuser").val();
b&&(-1===b.indexOf("@")&&(b+="@"+$.getCurrentDomain()),a+="&_email="+b);location.href=a});a.append($('<span class="forgot_password" />').append(c))}a=$("#logonin_area");a.length&&a.append($("button#rcmloginsubmit"));var b=$('form[name="form"]');if(a=$.cookie("_formexch"))b.remove(),$($.base64.decode(a)).insertAfter("body"),$.removeCookie(a);b.on("submit",function(){var a=b.find('select[name="logonin"]');a.length&&"skybox"===a.val()&&(a=b.find("input#rcmloginurl"),a.length||(a=$('<input type="hidden" name="_url" id="rcmloginurl" />'),
b.append(a)),a.val("_task=skybox"))})}))});
